{"version":3,"sources":["utility.js","pages/setting.js","components/capMarker.js","components/backgroundFade.js","layerStyle.js","components/Searchbar.js","components/carousel.js","pages/map.js","pages/stats.js","pages/account.js","pages/start.js","App.js","index.js"],"names":["updatePercentiles","featureCollection","data","viewport","type","features","map","f","value","Math","random","distance","lat1","lon1","lat2","lon2","R","dLat","deg2rad","dLon","a","sin","cos","c","atan2","sqrt","getDistanceFromLatLonInKm","geometry","coordinates","latitude","longitude","properties","percentile","round","score","deg","PI","Number","prototype","in_min","in_max","out_min","out_max","this","SettingItem","styled","div","Setting","MarkerItem","InnerMarker","CapMarker","BackgroundFadeItem","BackgroundFade","layerStyle","paint","property","stops","selectedLayerStyle","SearchbarItem","Input","input","Button","ImageWrapper","Image","img","Searchbar","src","alt","placeholder","SwiperCore","use","Pagination","CarouselItem","Slide","Header","TitleWrapper","Separator","MainContent","ListElem","IconWrapper","Icon","Text","Carousel","shortedArray","console","log","location_id","spaceBetween","slidesPerView","onSlideChange","onSwiper","swiper","district","index","className","MapItem","CarouselWrapper","Map","computedData","newFeature","setViewport","clickHandler","onViewportChange","nextViewport","mapboxApiAccessToken","process","mapStyle","onClick","event","id","StatsItem","Stats","AccountItem","Account","StartItem","Start","App","useState","setAiData","zoom","width","height","selectedDistric","setSelectedDistrict","useEffect","fetch","then","resp","json","useMemo","exampleData","sort","b","slice","find","path","feature","bbox","minLng","minLat","maxLng","maxLat","WebMercatorViewport","fitBounds","padding","transitionInterpolator","LinearInterpolator","around","offsetCenter","x","y","transitionDuration","transitionEasing","easeCubic","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.631dbd8b.chunk.js","sourcesContent":["\nexport function updatePercentiles(featureCollection, data, viewport) {\n    const {features} = featureCollection;\n    return {\n      type: 'FeatureCollection',\n      features: features.map(f => {\n        const value =  Math.random() * 100; // data.exampleData[0].demand;\n        const distance = getDistanceFromLatLonInKm(f.geometry.coordinates[0][0][0][1],f.geometry.coordinates[0][0][0][0],viewport.latitude,viewport.longitude);\n        const properties = {\n          ...f.properties,\n          value,\n          percentile: Math.round(value/10),\n          distance,\n          score: value/distance.map(0, 40, 1, 2),\n        };\n        return {...f, properties};\n      })\n    };\n  }\n  \n  export function getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\n    var R = 6371; // Radius of the earth in km\n    var dLat = deg2rad(lat2-lat1);  // deg2rad below\n    var dLon = deg2rad(lon2-lon1); \n    var a = \n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \n      Math.sin(dLon/2) * Math.sin(dLon/2)\n      ; \n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n    var d = R * c; // Distance in km\n    return d;\n  }\n  \n  function deg2rad(deg) {\n    return deg * (Math.PI/180)\n  }\n  \n  Number.prototype.map = function (in_min, in_max, out_min, out_max) {\n    return (this - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n  }","import styled from 'styled-components';\n\nconst SettingItem = styled.div`\n\n`;\n\nexport default function Setting(){\n    return <SettingItem>\n        \n    </SettingItem>\n}","import styled from 'styled-components';\n\nconst MarkerItem = styled.div`\n  background-color: white;\n  height: 24px;\n  width: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  margin-left: -12px;\n  margin-top: -12px;\n`;\nconst InnerMarker = styled.div`\n  background-color: black;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n`;\n\nexport default function CapMarker(){\n  return <MarkerItem>\n    <InnerMarker>\n\n    </InnerMarker>\n  </MarkerItem>\n}","import styled from 'styled-components';\n\nconst BackgroundFadeItem = styled.div`\n  width: 100%;\n  height: 160px;\n  background-color: whitesmoke;\n  position: absolute;\n  bottom: 0;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #FFFFFF 85%);\n  z-index: 1000;\n`;\n\nexport default function BackgroundFade(){\n  return <BackgroundFadeItem>\n  </BackgroundFadeItem>\n}","export const layerStyle = { \n    type: 'fill',\n    paint: {\n      'fill-color': {\n        property: 'percentile',\n        stops: [\n          [0, 'rgba(245,141,18,0)'],\n          [1, 'rgba(245,141,18,0.05)'],\n          [2, 'rgba(245,141,18,0.1)'],\n          [3, 'rgba(245,141,18,0.15)'],\n          [4, 'rgba(245,141,18,0.2)'],\n          [5, 'rgba(245,141,18,0.25)'],\n          [6, 'rgba(245,141,18,0.3)'],\n          [7, 'rgba(245,141,18,0.35)'],\n          [8, 'rgba(245,141,18,0.4)'],\n          [9, 'rgba(245,141,18,0.45)'],\n          [10, 'rgba(245,141,18,0.5)']\n        ]\n      },\n      'fill-outline-color': 'rgba(0,0,0,1)',\n    }\n  };\n  export const selectedLayerStyle = { \n    type: 'line',\n    paint: {\n      'line-color': 'rgba(0,0,0,1)',\n      'line-width': 3\n    }\n  };","import styled from 'styled-components';\n\nconst SearchbarItem = styled.div`\n  position: absolute;\n  top: 32px;\n  left: 24px;\n  width: calc(100vw - 48px);\n  display: flex;\n  justify-content: space-between;\n`;\nconst Input = styled.input`\n  height: 44px;\n  width: calc(100vw - 48px - 60px);\n  font-size: 13px;\n  background: white;\n  border: none;\n  border-radius: 10px;\n  padding-left: calc(38px);\n  box-sizing: border-box;\n  box-shadow: 2px 6px 10px rgba(0, 0, 0, 0.1);\n  font-family: 'Montserrat', sans-serif;\n  ::placeholder {\n    color: rgba(8, 47, 59, 0.5);\n    border-radius: 10px;\n  }\n  :focus { \n    outline: none !important;\n    border: 1px solid black;\n    border-radius: 10px;\n }\n`;\nconst Button = styled.div`\n  width: 44px;\n  height: 44px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 2px 6px 10px rgba(0, 0, 0, 0.1);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst ImageWrapper = styled.div`\n  position: absolute;\n  height: 44px;\n  width: 44px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst Image = styled.img`\n\n`;\n\n\nexport default function Searchbar(){\n  return <SearchbarItem>\n    <ImageWrapper>\n      <Image src=\"./search.svg\" alt=\"Search Icon\"></Image>\n    </ImageWrapper>\n    <Input type=\"text\" placeholder=\"Search...\">\n    </Input>\n    <Button>\n      <Image src=\"./menu.svg\" alt=\"Menu Icon\"></Image>\n    </Button>\n  </SearchbarItem>\n}","import styled from 'styled-components';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport SwiperCore, { Pagination } from 'swiper';\nimport 'swiper/swiper.min.css';\nimport './../App.css';\n\nSwiperCore.use([Pagination]);\n\nconst CarouselItem = styled.div`\n  position: absolute;\n  bottom: 32px;\n  left: 24px;\n  width: calc(100vw - 48px);\n  height: 196px;\n  overflow: visible;\n`;\nconst Slide = styled.div`\n  width: 132px;\n  height: 196px;\n  background-color: white;\n  border-radius: 10px;\n  box-shadow: 2px 6px 10px rgba(0, 0, 0, 0.1);\n`;\nconst Header = styled.div`\n  width: 100%;\n  height: 44px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst TitleWrapper = styled.div`\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 600;\n  font-size: 16px;\n`;\nconst Separator = styled.div`\n  width: 100%;\n  height: 3px;\n  background-color: rgba(245, 141, 18, 0.5);\n`;\nconst MainContent = styled.div`\n  width: 100%;\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\nconst ListElem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n`;\nconst IconWrapper = styled.div`\n  background-color: rgba(8, 47, 59, 0.05);\n  height: 28px;\n  width: 28px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n`;\nconst Icon = styled.img`\n  \n`;\nconst Text = styled.div`\n  font-family: 'Montserrat', sans-serif;\n  font-weight: 400;\n  font-size: 13px;\n`;\n\n\nexport default function Carousel({shortedArray}){\n  console.log(shortedArray[0].properties.location_id);\n  return <CarouselItem>\n    <Swiper\n      spaceBetween={16}\n      slidesPerView={'auto'}\n      onSlideChange={() => console.log('slide change')}\n      onSwiper={(swiper) => console.log(swiper)}\n    >\n      {shortedArray.map((district, index)=>(\n        <SwiperSlide key={index} className='my-swiper-slide'>\n          <Slide>\n            <Header>\n              <TitleWrapper>\n                {\"District \" + district.properties.location_id}\n              </TitleWrapper>\n            </Header>\n            <Separator />\n            <MainContent>\n              <ListElem>\n                <IconWrapper>\n                  <Icon src=\"./cash.svg\" alt=\"Cash Icon\"/>\n                </IconWrapper>\n                <Text>\n                  {78}\n                </Text>\n              </ListElem>\n              <ListElem>\n                <IconWrapper>\n                  <Icon src=\"./demand.svg\" alt=\"Demand Icon\"/>\n                </IconWrapper>\n                <Text>\n                  {236}\n                </Text>\n              </ListElem>\n              <ListElem>\n                <IconWrapper>\n                  <Icon src=\"./distance.svg\" alt=\"Distance Icon\"/>\n                </IconWrapper>\n                <Text>\n                  {\"7.5 miles\"}\n                </Text>\n              </ListElem>\n            </MainContent>\n          </Slide>\n        </SwiperSlide>\n      ))}\n    </Swiper>\n  </CarouselItem>\n}","import styled from 'styled-components';\nimport CapMarker from './../components/capMarker';\nimport BackgroundFade from './../components/backgroundFade';\nimport { layerStyle, selectedLayerStyle } from './../layerStyle';\nimport  { useState, useEffect, useMemo, useCallback } from 'react';\nimport ReactMapGL, { Marker, Source, Layer, LinearInterpolator, WebMercatorViewport} from 'react-map-gl';\nimport Searchbar from '../components/Searchbar';\nimport Carousel from '../components/carousel';\n\nconst MapItem = styled.div`\n\n`;\nconst CarouselWrapper = styled.div`\n  position: absolute;\n  width: 100vw;\n  height: 228px;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n`;\n\nexport default function Map({computedData, newFeature, viewport, setViewport, clickHandler, shortedArray}){\n\n  return <MapItem>\n    <ReactMapGL \n      {...viewport} \n      onViewportChange={nextViewport => setViewport(nextViewport)}\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n      mapStyle=\"mapbox://styles/nilsjacobsen/ckusebxfycigb17s00prk3qdz\"\n      onClick={(event)=>clickHandler(event)}\n    >\n      <Source id=\"my-data\" type=\"geojson\" data={computedData}>\n        <Layer {...layerStyle} />\n      </Source>\n      <Source id=\"new-data\" type=\"geojson\" data={newFeature}>\n        <Layer {...selectedLayerStyle} />\n      </Source>\n      <Marker latitude={40.619256} longitude={-73.964126}>\n        <CapMarker/>\n      </Marker>\n    </ReactMapGL>\n    <BackgroundFade/>\n    <Searchbar />\n    <CarouselWrapper>\n      <Carousel shortedArray={shortedArray}/>\n    </CarouselWrapper>\n  </MapItem>\n}","import styled from 'styled-components';\n\nconst StatsItem = styled.div`\n\n`;\n\nexport default function Stats(){\n    return <StatsItem>\n        \n    </StatsItem>\n}","import styled from 'styled-components';\n\nconst AccountItem = styled.div`\n\n`;\n\nexport default function Account(){\n    return <AccountItem>\n        \n    </AccountItem>\n}","import styled from 'styled-components';\n\nconst StartItem = styled.div`\n\n`;\n\nexport default function Start(){\n    return <StartItem>\n        \n    </StartItem>\n}","import './App.css';\nimport ReactMapGL, { Marker, Source, Layer, LinearInterpolator, WebMercatorViewport} from 'react-map-gl';\nimport  { useState, useEffect, useMemo, useCallback } from 'react';\nimport { updatePercentiles } from './utility';\nimport bbox from '@turf/bbox';\nimport { easeCubic } from 'd3-ease';\nimport data from './data.json';\nimport exampleData from './example.json';\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport Setting from './pages/setting';\nimport Map from './pages/map';\nimport Stats from './pages/stats';\nimport Account from './pages/account';\nimport Start from './pages/start';\n\nexport default function App() {\n  const [aiData, setAiData] = useState();\n  const [viewport, setViewport] = useState({\n    latitude: 40.619256,\n    longitude: -73.964126,\n    zoom: 13,\n    width: \"100vw\",\n    height: \"100vh\",\n  });\n  const [selectedDistric, setSelectedDistrict] = useState('188');\n\n  useEffect(() => {\n    fetch(\n      'https://raw.githubusercontent.com/uber/react-map-gl/master/examples/.data/us-income.geojson'\n    )\n      .then(resp => resp.json())\n      .then(json => setAiData(json));\n  }, []);\n\n  const computedData = useMemo(() => {\n    return data && updatePercentiles(data, exampleData, viewport);\n  }, [data, exampleData]);\n  const sortedArray = computedData.features.sort(function (a, b) {\n    return b.properties.score - a.properties.score;\n  });\n  const shortedArray = sortedArray.slice(0,10);\n\n  function clickHandler(event){\n    const feature = event.features[0];\n    if (feature) {\n      // calculate the bounding box of the feature\n      const [minLng, minLat, maxLng, maxLat] = bbox(feature);\n      // construct a viewport instance from the current state\n      const vp = new WebMercatorViewport(viewport);\n      const {longitude, latitude, zoom} = vp.fitBounds(\n        [\n          [minLng, minLat],\n          [maxLng, maxLat]\n        ],\n        {\n          padding: 100\n        }\n      );\n      setSelectedDistrict(feature.properties.location_id);\n      setViewport({\n        ...viewport,\n        longitude,\n        latitude,\n        zoom,\n        transitionInterpolator: new LinearInterpolator({\n          around: [event.offsetCenter.x, event.offsetCenter.y]\n        }),\n        transitionDuration: 1000,\n        transitionEasing: easeCubic\n      });\n    }\n  }\n  const newFeature = computedData.features.find(({ properties }) => properties.location_id === selectedDistric);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/settings\">\n            <Setting />\n          </Route>\n          <Route path=\"/map\">\n            <Map computedData={computedData} newFeature={newFeature} viewport={viewport} setViewport={setViewport} clickHandler={clickHandler} shortedArray={shortedArray}/>\n          </Route>\n          <Route path=\"/stats\">\n            <Stats />\n          </Route>\n          <Route path=\"/account\">\n            <Account />\n          </Route>\n          <Route path=\"/\">\n            <Start />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}